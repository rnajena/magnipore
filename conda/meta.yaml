{% set name = "Magnipore" %}
{% set version = "1.0.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  path: ../
  # git_rev: v{{ version }}
  # git_url: https://github.com/JannesSP/{{ name|lower }}.git
  # git_depth: 1 # (Defaults to -1/not shallow)

build:
  number: 1
  script: python setup.py install --single-version-externally-managed --record=record.txt

requirements:
  build:
    - python
    - numpy
    - setuptools
  run:
    - python>=3.9
    - h5py>=3.7
    - biopython>=1.80
    - mafft>=7.508
    - matplotlib>=3.6.2
    - numpy>=1.23
    - scipy>=1.9
    - nanopolish>=0.14
    - minimap2>=2.24
    - pandas>=1.5
    - seaborn>=0.12
    - psutil>=5.9
    - hdf5plugin>=3.3.1
    - ont_vbz_hdf_plugin>=1.0.1

# build:
#   entry_points:
#     - magnipore=magnipore.magnipore:main,
#     - nanosherlock=magnipore.nanosherlock:main

test:
  imports:
    - {{ name|lower }}
  commands:
    - magnipore --help
    - nanosherlock --help

about:
  home: https://github.com/JannesSP/{{ name|lower }}
  license: GNU General Public License v3.0
  license_family: GPL
  license_file: LICENSE 
  summary: "Magnipore compares two ONT sequences samples for differential signals cause by mutations and modifications"
